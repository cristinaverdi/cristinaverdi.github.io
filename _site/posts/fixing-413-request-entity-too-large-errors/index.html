<!DOCTYPE html><html lang="zh-cn"><head><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title> Fixing 413 Request Entity Too Large Errors</title><link rel="apple-touch-icon" sizes="76x76" href="/assets/images/logo.png"><link rel="icon" type="image/png" href="/assets/images/logo.png"><link rel="canonical" href="http://localhost:4000/posts/fixing-413-request-entity-too-large-errors/"><link rel="alternate" type="application/rss+xml" title="WngLMng" href="http://localhost:4000/feed.xml"><link href="/assets/css/fonts.googleapis.com.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="/assets/css/main.css"><meta name="keywords" content="王立明, WngLMng"><meta name="author" content="WngLMng"><meta name="description" content=""><meta property="og:url" content="http://localhost:4000/posts/fixing-413-request-entity-too-large-errors/"><meta property="og:type" content="article"><meta property="og:title" content="Fixing 413 Request Entity Too Large Errors"><meta property="og:description" content="Fixing 413 Request Entity Too Large Errors"><meta property="og:site_name" content="WngLMng"><meta property="og:image" content="http://localhost:4000/assets/images/bg.svg"><body><div id="shadow"></div><header class="main-header content-wrapper"> <input type="checkbox" id="menu-checkbox" /><nav class="center-wrapper nav-main"> <a class="blog-logo" href="/">WngLMng</a> <a href="/about/">About</a> <a href="/posts/">Archive</a> <a href="/feed.xml">RSS</a> <label for="menu-checkbox" class="toggle-button" data-open="☰" data-close="☰" onclick></label></nav></header><aside class="sidebar" role="note" style="background-image: url(/assets/images/bg.svg)"><div class="cover"><div class="cover-text"><div class="heading"> <a href="/posts/#http">http</a></div><p> Fixing 413 Request Entity Too Large Errors</div></div><div id="switcher"></div></aside><main class="content-wrapper blog-content"><article class="post"><h1 class="post-title">Fixing 413 Request Entity Too Large Errors</h1><p class="post-meta"> <time datetime="2019-04-22">22-04-2019</time> &nbsp;/&nbsp; <span>WngLMng</span><div class="post-content"><p><img src="/assets/images/201904/413-request-entity-too-large-lg.png" alt="" /><h2 id="413-request-entity-too-large-是什么意思">413 Request Entity Too Large 是什么意思</h2><p>当一个 request 请求内容太大，从客服端到服务端请求处理的时候，就可能会发生 413 request entity too large 这种错误。如果你的服务端设置了 HTTP 请求大小限制，客户端就会响应 413 request entity too large。举个例子，客户端尝试上传一个大文件到服务端。<p>这种情况依赖于你使用的服务器类型来确定你需要修改什么配置。无论你想显示用户上传文件的大小，或者还是增大上传文件的限制，看下面。<h2 id="解决-413-request-entity-too-large-的问题">解决 413 Request Entity Too Large 的问题</h2><h3 id="nginx">Nginx</h3><p>对于 Nginx 用户来说，可以修改 HTTP 请求大小对应的配置 <em>client_max_body_size</em>。这个可能已经配置在 <em>nginx.conf</em> 中了，如果没有，你可以添加这个指令在 <em>http</em>，<em>server</em>，或者 <em>location</em> 代码块中。<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server {
    client_max_body_size 100M;
    ...
}
</code></pre></div></div><p><em>client_max_body_size</em> 的默认值是 1MB，你也可以修改成 0。<p>一旦修改成了你想要的值，保存后记得重启 Nginx。<h3 id="apache">Apache</h3><p>对于 Apache 服务，有一个指令是 <em>LimitRequestBody</em>，这条指令和 Nginx 中的 <em>client_max_body_size</em> 指令提供同样的功能。这条指令配置在 <em>http.conf</em> 文件中，默认值是 0，你可以修改成你希望的大小（单位字节）。 举个例子，你可以想下面这样，修改成 100MB 大小。<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>LimitRequestBody 104857600
</code></pre></div></div><p>同样，修改后记得重启 Apache 服务。<h3 id="php">PHP</h3><p>对于 PHP 用户，可以尝试修改 <em>php.ini</em> 中的配置，<em>upload_max_filesize</em> 和 <em>post_max_size</em>。<ul><li><em>uploa_max_filesize</em> 代表着允许上传文件的最大值，默认 2MB<li><em>post_max_size</em> 代表着 POST 数据 ，PHP 服务会接受的最大值，默认 8MB</ul><p>同样，修改后记得重启 PHP 服务。<div class="post-links"> <a class="link-to-post" href="/posts/async-open-new-tab-in-brower/"> <span class="link-to-post__prev">&#10535; &nbsp;Previous post</span> <span class="link-to-post__title">浏览器中异步打开新标签页</span> </a></div></div></article></main><footer class="blog-footer content-wrapper"><p>&copy; <span class="full-year"></span> WngLMng</footer><script src="/assets/js/scripts.js"></script>
